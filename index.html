<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Neighbourly 2026 ¬∑ Real‚Äëtime Services</title>
    
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Leaflet Maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <!-- QR Code Generator -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#ff9900',
                        'primary-dark': '#e47911',
                        secondary: '#232f3e',
                        'secondary-light': '#37475a',
                        'dark-bg': '#0a0a0a',
                        'card-bg': '#121212',
                        'card-hover': '#1e1e1e',
                        'text-primary': '#ffffff',
                        'text-secondary': '#e0e0e0',
                        'text-muted': '#a0a0a0',
                        border: '#2a2a2a',
                        'border-hover': '#ff9900'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                        'display': ['Poppins', 'sans-serif']
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.2s ease-in-out',
                        'slide-up': 'slideUp 0.2s ease-out',
                        'pulse-slow': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'notification-slide': 'notificationSlide 0.3s ease-out',
                        'ping-slow': 'ping 2s cubic-bezier(0, 0, 0.2, 1) infinite'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        notificationSlide: {
                            '0%': { opacity: '0', transform: 'translateX(20px)' },
                            '100%': { opacity: '1', transform: 'translateX(0)' }
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700;800&display=swap');
        
        .page { display: none; }
        .page.active { display: block; }
        
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Custom Scrollbar - Tailwind seperate */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #1e1e1e;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #ff9900;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #e47911;
        }
        
        /* Modal Scroll */
        .modal-scroll {
            max-height: calc(90vh - 120px);
            overflow-y: auto;
            padding-right: 8px;
        }
        
        .modal-scroll::-webkit-scrollbar {
            width: 4px;
        }
        
        .modal-scroll::-webkit-scrollbar-track {
            background: #1e1e1e;
        }
        
        .modal-scroll::-webkit-scrollbar-thumb {
            background: #ff9900;
            border-radius: 10px;
        }
    </style>
</head>
<body class="bg-[#0a0a0a] text-white antialiased font-sans">

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="hidden fixed inset-0 bg-black/90 flex items-center justify-center z-[100]">
        <div class="text-center">
            <div class="w-16 h-16 border-4 border-[#ff9900]/30 border-t-[#ff9900] rounded-full animate-spin mx-auto mb-6"></div>
            <p class="text-white text-xl font-medium">Loading...</p>
        </div>
    </div>

    <!-- Alert Container -->
    <div id="alert-container" class="fixed top-24 right-4 z-50 max-w-md space-y-3"></div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 w-full z-50 bg-[#0a0a0a]/95 backdrop-blur-md border-b border-[#2a2a2a] px-4 md:px-8 py-3">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <!-- Logo -->
            <div onclick="window.showPage('landing')" class="flex items-center gap-3 cursor-pointer group">
                <div class="w-10 h-10 rounded-lg bg-[#ff9900] flex items-center justify-center shadow-lg shadow-orange-600/30 group-hover:scale-110 transition-transform">
                    <i class="fas fa-handshake text-white text-xl"></i>
                </div>
                <div>
                    <span class="text-2xl font-display font-bold tracking-tight text-white">NEIGHBOURLY</span>
                    <span class="hidden md:inline ml-2 text-xs font-medium bg-[#ff9900]/20 text-[#ff9900] px-2 py-1 rounded-full">Live</span>
                </div>
                <span class="flex items-center gap-1 ml-2">
                    <span class="relative flex h-3 w-3">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#ff9900] opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-3 w-3 bg-[#ff9900]"></span>
                    </span>
                    <span class="text-xs text-[#ff9900] hidden md:inline">Real-time</span>
                </span>
            </div>

            <!-- Desktop Navigation -->
            <div class="hidden md:flex items-center space-x-6">
                <div class="relative">
                    <button id="notification-bell" onclick="window.showPage('notifications')" class="text-[#e0e0e0] hover:text-[#ff9900] text-xl transition-colors relative">
                        <i class="fas fa-bell"></i>
                        <span id="notification-badge" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full animate-pulse hidden">0</span>
                    </button>
                </div>
                
                <a href="#features" class="text-[#e0e0e0] hover:text-[#ff9900] text-sm font-medium transition-colors">Features</a>
                <a href="#how-it-works" class="text-[#e0e0e0] hover:text-[#ff9900] text-sm font-medium transition-colors">How it works</a>
                
                <!-- Auth Nav -->
                <div id="auth-nav" class="flex items-center gap-3"></div>
            </div>

            <!-- Mobile Menu Button -->
            <div class="flex items-center gap-4 md:hidden">
                <div class="relative">
                    <button id="mobile-notification-bell" onclick="window.showPage('notifications')" class="text-[#e0e0e0] hover:text-[#ff9900] text-xl transition-colors">
                        <i class="fas fa-bell"></i>
                    </button>
                    <span id="mobile-notification-badge" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full animate-pulse hidden">0</span>
                </div>
                <button id="mobile-menu-btn" class="text-white text-2xl">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-[#121212] mt-3 p-5 rounded-2xl border border-[#2a2a2a]">
            <div class="flex flex-col space-y-4">
                <a href="#features" class="text-[#e0e0e0] hover:text-[#ff9900] py-2">Features</a>
                <a href="#how-it-works" class="text-[#e0e0e0] hover:text-[#ff9900] py-2">How it works</a>
                <div id="mobile-auth-nav" class="pt-3 border-t border-[#2a2a2a]"></div>
            </div>
        </div>
    </nav>

    <div class="h-20"></div>

    <main class="max-w-7xl mx-auto px-4 md:px-8 py-6">
        
        <!-- Landing Page -->
        <div id="landing-page" class="page active animate-fade-in">
            <!-- Hero Section -->
            <section class="relative rounded-2xl overflow-hidden mb-20">
                <div class="absolute inset-0 bg-gradient-to-r from-[#ff9900]/20 via-transparent to-[#0a0a0a]"></div>
                <div class="relative bg-[#121212] p-10 md:p-16 rounded-2xl border border-[#2a2a2a]">
                    <div class="max-w-4xl">
                        <div class="inline-flex items-center gap-2 bg-black/50 px-5 py-2 rounded-full border border-[#ff9900]/50 mb-8">
                            <span class="relative flex h-2 w-2">
                                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#ff9900] opacity-75"></span>
                                <span class="relative inline-flex rounded-full h-2 w-2 bg-[#ff9900]"></span>
                            </span>
                            <span class="text-xs font-bold uppercase tracking-wider text-white">Live ‚Ä¢ Real-time services</span>
                        </div>
                        <h1 class="text-5xl md:text-7xl font-display font-extrabold text-white leading-tight">
                            Find <span class="text-[#ff9900]">trusted</span> local <br>services. <span class="text-[#ff9900]">Instantly.</span>
                        </h1>
                        <p class="text-[#e0e0e0] text-xl md:text-2xl mt-6 max-w-2xl leading-relaxed">
                            Location-based service requests. Real-time bidding. No refresh needed.
                        </p>
                        <div class="flex flex-wrap gap-6 mt-12">
                            <button onclick="window.showPage('seeker-login')" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-10 py-5 text-lg font-bold rounded-xl shadow-xl shadow-orange-600/30 transition-all hover:scale-105">
                                <i class="fas fa-search mr-3"></i> Find a pro
                            </button>
                            <button onclick="window.showPage('provider-login')" class="bg-[#232f3e] hover:bg-[#37475a] text-white px-10 py-5 text-lg font-bold rounded-xl border border-[#ff9900]/30 transition-all hover:scale-105">
                                <i class="fas fa-briefcase mr-3"></i> Become provider
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Stats -->
            <section class="grid grid-cols-2 md:grid-cols-4 gap-5 mb-24">
                <div class="bg-[#121212] rounded-2xl p-8 text-center border border-[#2a2a2a] hover:border-[#ff9900] transition-all">
                    <div class="text-4xl font-display font-black text-[#ff9900]" id="stats-users">0</div>
                    <div class="text-[#e0e0e0] text-sm mt-2">Registered Users</div>
                </div>
                <div class="bg-[#121212] rounded-2xl p-8 text-center border border-[#2a2a2a] hover:border-[#ff9900] transition-all">
                    <div class="text-4xl font-display font-black text-[#ff9900]" id="stats-providers">0</div>
                    <div class="text-[#e0e0e0] text-sm mt-2">Service Providers</div>
                </div>
                <div class="bg-[#121212] rounded-2xl p-8 text-center border border-[#2a2a2a] hover:border-[#ff9900] transition-all">
                    <div class="text-4xl font-display font-black text-[#ff9900]" id="stats-services">0</div>
                    <div class="text-[#e0e0e0] text-sm mt-2">Active Services</div>
                </div>
                <div class="bg-[#121212] rounded-2xl p-8 text-center border border-[#2a2a2a] hover:border-[#ff9900] transition-all">
                    <div class="text-4xl font-display font-black text-[#ff9900]" id="stats-reviews">0</div>
                    <div class="text-[#e0e0e0] text-sm mt-2">Total Reviews</div>
                </div>
            </section>

            <!-- Real-time Demo Banner -->
            <section class="mb-16">
                <div class="bg-gradient-to-r from-[#ff9900]/20 to-[#ff9900]/20 rounded-2xl p-8 border border-[#ff9900]/30">
                    <div class="flex items-center gap-4 flex-wrap">
                        <div class="flex items-center gap-3">
                            <span class="relative flex h-4 w-4">
                                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#ff9900] opacity-75"></span>
                                <span class="relative inline-flex rounded-full h-4 w-4 bg-[#ff9900]"></span>
                            </span>
                            <span class="text-white font-bold">REAL-TIME NOTIFICATIONS ACTIVE</span>
                        </div>
                        <span class="text-[#e0e0e0] text-sm">Service requests appear instantly ‚Ä¢ No refresh needed</span>
                    </div>
                </div>
            </section>

            <!-- Latest Reviews -->
            <section id="testimonials" class="mb-24">
                <div class="flex items-center gap-3 mb-8">
                    <div class="w-1 h-8 bg-[#ff9900]"></div>
                    <h2 class="text-3xl font-display font-bold text-white">Latest Reviews</h2>
                </div>
                <div id="landing-reviews-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
            </section>
        </div>

        <!-- Seeker Login -->
        <div id="seeker-login-page" class="page hidden">
            <div class="max-w-md mx-auto bg-[#121212] rounded-3xl p-8 md:p-10 border border-[#2a2a2a]">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 bg-[#ff9900]/20 rounded-2xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-search text-[#ff9900] text-3xl"></i>
                    </div>
                    <h2 class="text-3xl font-display font-bold text-white">Welcome Back</h2>
                    <p class="text-[#e0e0e0] mt-1">Login to find services</p>
                    <div class="mt-2 text-xs bg-[#ff9900]/10 text-[#ff9900] px-3 py-1 rounded-full inline-block">
                        <i class="fas fa-user mr-1"></i> Seeker Login Only
                    </div>
                </div>
                <div id="seeker-login-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6 flex items-center gap-2">
                    <i class="fas fa-exclamation-circle"></i>
                    <span id="seeker-login-error-text"></span>
                </div>
                <form id="seeker-login-form">
                    <input type="email" id="seeker-login-email" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Email Address" required>
                    <input type="password" id="seeker-login-password" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-8 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Password" required>
                    <input type="hidden" id="seeker-login-role" value="SEEKER">
                    <button type="submit" class="w-full bg-[#ff9900] hover:bg-[#e47911] text-white py-4 rounded-xl font-bold text-lg transition-all hover:scale-[1.02]">
                        <i class="fas fa-sign-in-alt mr-2"></i> Login as Seeker
                    </button>
                </form>
                <div class="text-center mt-8">
                    <span class="text-[#a0a0a0]">New to Neighbourly?</span>
                    <button onclick="window.showPage('seeker-signup')" class="text-[#ff9900] font-semibold ml-2 hover:underline">Create Account</button>
                </div>
                <div class="text-center mt-4">
                    <button onclick="window.showPage('provider-login')" class="text-[#a0a0a0] hover:text-[#ff9900] text-sm">
                        <i class="fas fa-briefcase mr-1"></i> Are you a provider? Login here
                    </button>
                </div>
            </div>
        </div>

        <!-- Seeker Signup -->
        <div id="seeker-signup-page" class="page hidden">
            <div class="max-w-md mx-auto bg-[#121212] rounded-3xl p-8 md:p-10 border border-[#2a2a2a]">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 bg-[#ff9900]/20 rounded-2xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-user-plus text-[#ff9900] text-3xl"></i>
                    </div>
                    <h2 class="text-3xl font-display font-bold text-white">Join as Seeker</h2>
                    <p class="text-[#e0e0e0] mt-1">Get instant service notifications</p>
                </div>
                <div id="seeker-signup-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6 flex items-center gap-2">
                    <i class="fas fa-exclamation-circle"></i>
                    <span id="seeker-signup-error-text"></span>
                </div>
                <form id="seeker-signup-form">
                    <input type="text" id="seeker-signup-name" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Full Name" required>
                    <input type="email" id="seeker-signup-email" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Email Address" required>
                    <input type="password" id="seeker-signup-password" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Password (min 6)" minlength="6" required>
                    <input type="password" id="seeker-signup-confirm" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-5 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Confirm Password" required>
                    <input type="hidden" id="seeker-signup-role" value="SEEKER">
                    <button type="submit" class="w-full bg-[#ff9900] hover:bg-[#e47911] text-white py-4 rounded-xl font-bold text-lg transition-all hover:scale-[1.02]">
                        <i class="fas fa-user-plus mr-2"></i> Create Account
                    </button>
                </form>
                <div class="text-center mt-6">
                    <span class="text-[#a0a0a0]">Already have an account?</span>
                    <button onclick="window.showPage('seeker-login')" class="text-[#ff9900] font-semibold ml-2 hover:underline">Login</button>
                </div>
            </div>
        </div>

        <!-- Provider Login -->
        <div id="provider-login-page" class="page hidden">
            <div class="max-w-md mx-auto bg-[#121212] rounded-3xl p-8 md:p-10 border border-[#2a2a2a]">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 bg-[#ff9900]/20 rounded-2xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-briefcase text-[#ff9900] text-3xl"></i>
                    </div>
                    <h2 class="text-3xl font-display font-bold text-white">Provider Login</h2>
                    <p class="text-[#e0e0e0] mt-1">Send instant service offers</p>
                    <div class="mt-2 text-xs bg-[#ff9900]/10 text-[#ff9900] px-3 py-1 rounded-full inline-block">
                        <i class="fas fa-user-tie mr-1"></i> Provider Login Only
                    </div>
                </div>
                <div id="provider-login-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6 flex items-center gap-2">
                    <i class="fas fa-exclamation-circle"></i>
                    <span id="provider-login-error-text"></span>
                </div>
                <form id="provider-login-form">
                    <input type="email" id="provider-login-email" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Email Address" required>
                    <input type="password" id="provider-login-password" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-8 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Password" required>
                    <input type="hidden" id="provider-login-role" value="PROVIDER">
                    <button type="submit" class="w-full bg-[#ff9900] hover:bg-[#e47911] text-white py-4 rounded-xl font-bold text-lg transition-all hover:scale-[1.02]">
                        <i class="fas fa-sign-in-alt mr-2"></i> Login as Provider
                    </button>
                </form>
                <div class="text-center mt-7">
                    <span class="text-[#a0a0a0]">New provider?</span>
                    <button onclick="window.showPage('provider-signup')" class="text-[#ff9900] font-semibold ml-2 hover:underline">Register</button>
                </div>
                <div class="text-center mt-4">
                    <button onclick="window.showPage('seeker-login')" class="text-[#a0a0a0] hover:text-[#ff9900] text-sm">
                        <i class="fas fa-search mr-1"></i> Are you a seeker? Login here
                    </button>
                </div>
            </div>
        </div>

        <!-- Provider Signup -->
        <div id="provider-signup-page" class="page hidden">
            <div class="max-w-md mx-auto bg-[#121212] rounded-3xl p-8 md:p-10 border border-[#2a2a2a]">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 bg-[#ff9900]/20 rounded-2xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-user-tie text-[#ff9900] text-3xl"></i>
                    </div>
                    <h2 class="text-3xl font-display font-bold text-white">Join as Provider</h2>
                    <p class="text-[#e0e0e0] mt-1">Send real-time service offers</p>
                </div>
                <div id="provider-signup-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6 flex items-center gap-2">
                    <i class="fas fa-exclamation-circle"></i>
                    <span id="provider-signup-error-text"></span>
                </div>
                <form id="provider-signup-form">
                    <input type="text" id="provider-signup-name" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Full Name" required>
                    <input type="email" id="provider-signup-email" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Email Address" required>
                    <input type="password" id="provider-signup-password" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Password (min 6)" minlength="6" required>
                    <input type="password" id="provider-signup-confirm" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Confirm Password" required>
                    
                    <div class="mb-4 p-5 bg-[#1e1e1e] rounded-xl border border-[#2a2a2a]">
                        <h4 class="text-white font-bold mb-3 flex items-center gap-2">
                            <i class="fas fa-map-marker-alt text-[#ff9900]"></i> Service Location
                        </h4>
                        <div class="space-y-3">
                            <input type="text" id="provider-address" class="w-full bg-[#121212] border border-[#2a2a2a] rounded-xl px-4 py-3 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Your service area address" required>
                            <div class="grid grid-cols-2 gap-2">
                                <input type="text" id="provider-lat" class="w-full bg-[#121212] border border-[#2a2a2a] rounded-xl px-4 py-3 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Latitude" readonly>
                                <input type="text" id="provider-lng" class="w-full bg-[#121212] border border-[#2a2a2a] rounded-xl px-4 py-3 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Longitude" readonly>
                            </div>
                            <button type="button" onclick="window.getProviderLocation()" class="bg-[#232f3e] hover:bg-[#37475a] text-white px-4 py-2 rounded-lg text-sm transition-all w-full">
                                <i class="fas fa-location-crosshairs mr-2"></i> Detect My Location
                            </button>
                        </div>
                    </div>
                    
                    <div class="mb-4 p-5 bg-[#1e1e1e] rounded-xl border border-[#2a2a2a]">
                        <h4 class="text-white font-bold mb-3 flex items-center gap-2">
                            <i class="fas fa-credit-card text-[#ff9900]"></i> Payment Details
                        </h4>
                        <select id="provider-payment-method" class="w-full bg-[#121212] border border-[#2a2a2a] rounded-xl px-4 py-3 mb-3 text-white focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" required>
                            <option value="">Select Preferred Payment</option>
                            <option value="JazzCash">JazzCash</option>
                            <option value="EasyPaisa">EasyPaisa</option>
                            <option value="Bank Transfer">Bank Transfer</option>
                            <option value="Cash">Cash</option>
                        </select>
                        <input type="text" id="provider-payment-detail" class="w-full bg-[#121212] border border-[#2a2a2a] rounded-xl px-4 py-3 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Account Number / IBAN / Phone Number" required>
                    </div>
                    
                    <select id="provider-category" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-4 text-white focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" required>
                        <option value="">Select Service Category</option>
                        <option value="Home Services">Home Services</option>
                        <option value="Electrical">Electrical</option>
                        <option value="Plumbing">Plumbing</option>
                        <option value="Cleaning">Cleaning</option>
                        <option value="Tutoring">Tutoring</option>
                        <option value="Delivery">Delivery</option>
                        <option value="Repair">Repair</option>
                        <option value="Other">Other</option>
                    </select>
                    
                    <input type="text" id="provider-phone" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-4 mb-5 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Phone Number" required>
                    
                    <input type="hidden" id="provider-signup-role" value="PROVIDER">
                    
                    <button type="submit" class="w-full bg-[#ff9900] hover:bg-[#e47911] text-white py-4 rounded-xl font-bold text-lg transition-all hover:scale-[1.02]">
                        <i class="fas fa-user-plus mr-2"></i> Register as Provider
                    </button>
                </form>
            </div>
        </div>

        <!-- Notifications Page -->
        <div id="notifications-page" class="page hidden">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <div class="flex items-center gap-3">
                        <h2 class="text-3xl font-display font-bold text-white">Notifications</h2>
                        <span class="flex items-center gap-1 bg-[#ff9900]/20 px-3 py-1 rounded-full">
                            <span class="relative flex h-2 w-2">
                                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#ff9900] opacity-75"></span>
                                <span class="relative inline-flex rounded-full h-2 w-2 bg-[#ff9900]"></span>
                            </span>
                            <span class="text-xs text-[#ff9900] font-semibold">LIVE</span>
                        </span>
                    </div>
                    <p class="text-[#e0e0e0] mt-1">Instant service requests and offers</p>
                </div>
                <div class="flex gap-3">
                    <button onclick="window.markAllNotificationsRead()" class="bg-[#232f3e] hover:bg-[#37475a] text-white px-6 py-3 rounded-xl font-semibold transition-all">
                        <i class="fas fa-check-double mr-2"></i> Mark all read
                    </button>
                    <button onclick="window.goBackFromNotifications()" class="bg-[#1e1e1e] hover:bg-[#2a2a2a] text-white px-6 py-3 rounded-xl font-semibold transition-all">
                        <i class="fas fa-arrow-left mr-2"></i> Back
                    </button>
                </div>
            </div>

            <!-- Real-time Status Bar -->
            <div class="bg-[#121212] rounded-xl p-4 mb-6 border border-[#2a2a2a] flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <span class="relative flex h-3 w-3">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#ff9900] opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-3 w-3 bg-[#ff9900]"></span>
                    </span>
                    <span class="text-white font-medium">Connected to real-time server</span>
                </div>
                <span class="text-[#a0a0a0] text-sm">Updates appear instantly ‚Ä¢ No refresh needed</span>
            </div>

            <!-- Notifications List with Scroll -->
            <div id="notifications-container" class="space-y-3 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2"></div>
        </div>

        <!-- Seeker Marketplace -->
        <div id="seeker-marketplace-page" class="page hidden">
            <div class="mb-8">
                <!-- Location-based Request Section -->
                <div class="mb-6 p-4 bg-[#121212] rounded-xl border border-[#2a2a2a]">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-bold text-white">üìç Location Based Services</h3>
                        <div class="flex items-center gap-2">
                            <span class="text-xs bg-[#ff9900]/20 text-[#ff9900] px-2 py-1 rounded-full">Real-time</span>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-[#1e1e1e] p-4 rounded-xl border border-[#2a2a2a]">
                            <h4 class="text-white font-semibold mb-3">üìç Your Location</h4>
                            <div class="space-y-3">
                                <div class="flex items-center gap-2 text-[#e0e0e0]">
                                    <i class="fas fa-map-marker-alt text-[#ff9900]"></i>
                                    <span id="user-location-display" class="truncate flex-1">Not set</span>
                                </div>
                                <button onclick="window.updateUserLocation()" class="bg-[#232f3e] hover:bg-[#37475a] text-white px-4 py-2 rounded-lg text-sm transition-all w-full">
                                    <i class="fas fa-location-crosshairs mr-2"></i> Update My Location
                                </button>
                            </div>
                        </div>
                        <div class="bg-[#1e1e1e] p-4 rounded-xl border border-[#2a2a2a]">
                            <h4 class="text-white font-semibold mb-3">üöó Quick Request</h4>
                            <p class="text-[#a0a0a0] text-sm mb-3">Post your requirement and nearby providers will respond</p>
                            <button onclick="window.showQuickRequestModal()" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-4 py-2 rounded-lg text-sm transition-all w-full">
                                <i class="fas fa-bolt mr-2"></i> Post Quick Request
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Regular Browse Section -->
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8">
                    <div>
                        <h2 class="text-4xl font-display font-bold text-white">Service Marketplace</h2>
                        <p class="text-[#e0e0e0] mt-1">Browse or post location-based requests</p>
                    </div>
                    <div class="flex flex-wrap gap-3 w-full md:w-auto">
                        <div class="relative w-full md:w-72">
                            <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-[#a0a0a0]"></i>
                            <input type="text" id="seeker-search" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl pl-12 pr-4 py-3 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Search services...">
                        </div>
                        <select id="seeker-category" class="bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-4 py-3 text-white focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all">
                            <option value="">All Categories</option>
                        </select>
                    </div>
                </div>

                <!-- Active Requests Section with Scroll -->
                <div id="active-requests-section" class="mb-8 hidden">
                    <h3 class="text-2xl font-bold text-white mb-4">Your Active Requests</h3>
                    <div id="seeker-active-requests" class="space-y-3 max-h-96 overflow-y-auto custom-scrollbar pr-2"></div>
                </div>

                <!-- Service Providers Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="seeker-services-grid"></div>
                <div id="seeker-no-results" class="hidden text-center py-20">
                    <i class="fas fa-search text-6xl text-[#ff9900]/50 mb-6"></i>
                    <h3 class="text-2xl font-bold text-white mb-2">No Services Found</h3>
                    <p class="text-[#a0a0a0]">Try adjusting your search filters or post a quick request</p>
                </div>
            </div>
        </div>

        <!-- Seeker Dashboard -->
        <div id="seeker-dashboard-page" class="page hidden">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-10">
                <div>
                    <h2 class="text-4xl font-display font-bold text-white" id="seeker-greeting">Welcome!</h2>
                    <p class="text-[#e0e0e0] mt-1">Manage your bookings and requests</p>
                </div>
                <div class="flex gap-3 mt-4 md:mt-0">
                    <button onclick="window.showPage('seeker-marketplace')" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-6 py-3 rounded-xl font-semibold transition-all hover:scale-105">
                        <i class="fas fa-search mr-2"></i> Browse
                    </button>
                    <div class="relative">
                        <button onclick="window.showPage('notifications')" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-6 py-3 rounded-xl font-semibold transition-all hover:scale-105">
                            <i class="fas fa-bell mr-2"></i> Notifications
                        </button>
                        <span id="seeker-payment-badge" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full animate-pulse hidden">0</span>
                    </div>
                    <div class="relative">
                        <button onclick="window.showPage('chat')" class="bg-[#232f3e] hover:bg-[#37475a] text-white px-6 py-3 rounded-xl font-semibold transition-all">
                            <i class="fas fa-comments mr-2"></i> Chat
                        </button>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-5 mb-12">
                <div class="bg-[#121212] p-6 rounded-xl border border-[#2a2a2a]">
                    <div class="text-3xl font-bold text-[#ff9900]" id="seeker-total-bookings">0</div>
                    <span class="text-[#e0e0e0] text-sm">Total Bookings</span>
                </div>
                <div class="bg-[#121212] p-6 rounded-xl border border-[#2a2a2a]">
                    <div class="text-3xl font-bold text-[#ff9900]" id="seeker-pending">0</div>
                    <span class="text-[#e0e0e0] text-sm">Pending</span>
                </div>
                <div class="bg-[#121212] p-6 rounded-xl border border-[#2a2a2a]">
                    <div class="text-3xl font-bold text-[#ff9900]" id="seeker-approved">0</div>
                    <span class="text-[#e0e0e0] text-sm">Approved</span>
                </div>
                <div class="bg-[#121212] p-6 rounded-xl border border-[#2a2a2a]">
                    <div class="text-3xl font-bold text-[#ff9900]" id="seeker-completed">0</div>
                    <span class="text-[#e0e0e0] text-sm">Completed</span>
                </div>
            </div>

            <div class="mb-12">
                <h3 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                    <i class="fas fa-heart text-[#ff9900]"></i> My Favorites
                </h3>
                <div id="seeker-favorites-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
            </div>

            <div>
                <h3 class="text-2xl font-bold text-white mb-6">Recent Bookings & Requests</h3>
                <div id="seeker-recent-bookings" class="space-y-4 max-h-96 overflow-y-auto custom-scrollbar pr-2"></div>
            </div>
        </div>

        <!-- Provider Dashboard -->
        <div id="provider-dashboard-page" class="page hidden">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-10">
                <div>
                    <h2 class="text-4xl font-display font-bold text-white" id="provider-greeting">Provider Dashboard</h2>
                    <p class="text-[#e0e0e0] mt-1">Manage your services and offers</p>
                </div>
                <div class="flex gap-3 mt-4 md:mt-0">
                    <button onclick="window.showCreateServiceModal()" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-6 py-3 rounded-xl font-semibold transition-all hover:scale-105">
                        <i class="fas fa-plus mr-2"></i> Create Service
                    </button>
                    <button onclick="window.showPage('payment-history')" class="bg-[#232f3e] hover:bg-[#37475a] text-white px-6 py-3 rounded-xl font-semibold transition-all">
                        <i class="fas fa-credit-card mr-2"></i> Payments
                    </button>
                    <div class="relative">
                        <button onclick="window.showPage('chat')" class="bg-[#232f3e] hover:bg-[#37475a] text-white px-6 py-3 rounded-xl font-semibold transition-all">
                            <i class="fas fa-comments mr-2"></i> Chat
                        </button>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-5 mb-12">
                <div class="bg-[#121212] p-6 rounded-xl border border-[#2a2a2a]">
                    <div class="text-3xl font-bold text-[#ff9900]" id="provider-active-services">0</div>
                    <span class="text-[#e0e0e0] text-sm">Active Services</span>
                </div>
                <div class="bg-[#121212] p-6 rounded-xl border border-[#2a2a2a]">
                    <div class="text-3xl font-bold text-[#ff9900]" id="provider-total-bookings">0</div>
                    <span class="text-[#e0e0e0] text-sm">Total Bookings</span>
                </div>
                <div class="bg-[#121212] p-6 rounded-xl border border-[#2a2a2a]">
                    <div class="text-3xl font-bold text-[#ff9900]" id="provider-pending">0</div>
                    <span class="text-[#e0e0e0] text-sm">Pending</span>
                </div>
                <div class="bg-[#121212] p-6 rounded-xl border border-[#2a2a2a]">
                    <div class="text-3xl font-bold text-[#ff9900]" id="provider-revenue">PKR 0</div>
                    <span class="text-[#e0e0e0] text-sm">Total Revenue</span>
                </div>
            </div>

            <!-- Nearby Requests Section with Scroll -->
            <div class="bg-[#121212] rounded-2xl p-6 mb-10 border border-[#2a2a2a]">
                <h3 class="text-xl font-bold text-white mb-4">üìç Nearby Service Requests</h3>
                <div id="nearby-requests-container" class="space-y-3 max-h-80 overflow-y-auto custom-scrollbar pr-2"></div>
            </div>

            <div class="bg-[#121212] rounded-2xl p-6 mb-10 border border-[#2a2a2a]">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <div class="w-16 h-16 rounded-full bg-[#ff9900]/20 flex items-center justify-center">
                            <i class="fas fa-star text-[#ff9900] text-3xl"></i>
                        </div>
                        <div>
                            <h4 class="text-white font-bold text-xl">Your Rating</h4>
                            <div class="flex items-center gap-3 mt-1">
                                <span class="text-3xl font-bold text-white" id="provider-rating">0.0</span>
                                <span class="text-yellow-400 text-xl" id="provider-stars">‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ</span>
                                <span class="text-[#a0a0a0] text-sm" id="provider-review-count">(0 reviews)</span>
                            </div>
                        </div>
                    </div>
                    <button onclick="window.showProviderQRModal()" class="bg-[#232f3e] hover:bg-[#37475a] text-white px-6 py-3 rounded-xl font-semibold transition-all">
                        <i class="fas fa-qrcode mr-2"></i> My QR Code
                    </button>
                </div>
            </div>

            <!-- My Services -->
            <div class="mb-10">
                <h3 class="text-2xl font-bold text-white mb-6">My Services</h3>
                <div id="provider-services-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>

            <!-- Recent Bookings with Scroll -->
            <div class="mb-10">
                <h3 class="text-2xl font-bold text-white mb-6">Recent Booking Requests</h3>
                <div id="provider-recent-bookings" class="space-y-4 max-h-96 overflow-y-auto custom-scrollbar pr-2"></div>
            </div>
        </div>

        <!-- Payment History Page -->
        <div id="payment-history-page" class="page hidden">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h2 class="text-3xl font-display font-bold text-white">Payment History</h2>
                    <p class="text-[#e0e0e0] mt-1">All your payment transactions</p>
                </div>
                <button onclick="window.goBackFromPayments()" class="bg-[#232f3e] hover:bg-[#37475a] text-white px-6 py-3 rounded-xl font-semibold transition-all">
                    <i class="fas fa-arrow-left mr-2"></i> Back
                </button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-[#121212] p-6 rounded-xl border border-[#2a2a2a]">
                    <div class="text-[#a0a0a0] text-sm mb-2">Total Received</div>
                    <div class="text-3xl font-bold text-[#ff9900]" id="total-received">PKR 0</div>
                </div>
                <div class="bg-[#121212] p-6 rounded-xl border border-[#2a2a2a]">
                    <div class="text-[#a0a0a0] text-sm mb-2">Pending Payments</div>
                    <div class="text-3xl font-bold text-yellow-500" id="pending-payments">0</div>
                </div>
                <div class="bg-[#121212] p-6 rounded-xl border border-[#2a2a2a]">
                    <div class="text-[#a0a0a0] text-sm mb-2">Completed</div>
                    <div class="text-3xl font-bold text-green-500" id="completed-payments">0</div>
                </div>
            </div>

            <div class="bg-[#121212] rounded-2xl p-6 border border-[#2a2a2a] overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b border-[#2a2a2a]">
                            <th class="text-left py-4 px-2 text-[#e0e0e0] font-medium">Date</th>
                            <th class="text-left py-4 px-2 text-[#e0e0e0] font-medium">Service</th>
                            <th class="text-left py-4 px-2 text-[#e0e0e0] font-medium">Customer/Provider</th>
                            <th class="text-left py-4 px-2 text-[#e0e0e0] font-medium">Amount</th>
                            <th class="text-left py-4 px-2 text-[#e0e0e0] font-medium">Method</th>
                            <th class="text-left py-4 px-2 text-[#e0e0e0] font-medium">Status</th>
                        </tr>
                    </thead>
                    <tbody id="payment-history-table" class="divide-y divide-[#2a2a2a]"></tbody>
                </table>
            </div>
        </div>

        <!-- Chat Page -->
        <div id="chat-page" class="page hidden">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6">
                <div>
                    <h2 class="text-3xl font-display font-bold text-white">Messages</h2>
                    <p class="text-[#e0e0e0] mt-1">Real-time chat</p>
                </div>
                <button onclick="window.goBackFromChat()" class="bg-[#232f3e] hover:bg-[#37475a] text-white px-6 py-3 rounded-xl font-semibold transition-all">
                    <i class="fas fa-arrow-left mr-2"></i> Back
                </button>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                <div class="lg:col-span-4 bg-[#121212] rounded-2xl p-5 border border-[#2a2a2a]">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-white font-bold text-lg">Conversations</h3>
                        <button onclick="window.refreshConversations()" class="text-[#ff9900] hover:text-[#e47911]">
                            <i class="fas fa-rotate mr-1"></i> Refresh
                        </button>
                    </div>
                    <div id="chat-conversations" class="space-y-3 max-h-[60vh] overflow-y-auto custom-scrollbar pr-2"></div>
                    <div id="chat-no-conversations" class="hidden text-center py-12 text-[#a0a0a0]">
                        <i class="fas fa-comments text-5xl text-[#a0a0a0] mb-4"></i>
                        <p>No conversations yet</p>
                    </div>
                </div>

                <div class="lg:col-span-8 bg-[#121212] rounded-2xl p-6 flex flex-col border border-[#2a2a2a]">
                    <div class="flex items-center justify-between border-b border-[#2a2a2a] pb-4 mb-4">
                        <div>
                            <h3 class="text-xl font-bold text-white" id="chat-title">Select a conversation</h3>
                            <p class="text-[#a0a0a0] text-sm" id="chat-subtitle">Messages appear instantly</p>
                        </div>
                    </div>

                    <div id="chat-messages" class="flex-1 overflow-y-auto space-y-4 pr-2 py-4 min-h-[400px] max-h-[500px] custom-scrollbar"></div>

                    <form id="chat-form" class="flex gap-4 pt-4 border-t border-[#2a2a2a]">
                        <div class="relative flex-1">
                            <input id="chat-input" type="text" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Type a message..." autocomplete="off">
                        </div>
                        <button type="submit" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-8 py-4 rounded-xl font-semibold transition-all hover:scale-105">
                            <i class="fas fa-paper-plane mr-2"></i> Send
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Public Profile Page -->
        <div id="public-profile-page" class="page hidden">
            <div class="max-w-4xl mx-auto">
                <button onclick="window.goBackFromProfile()" class="text-[#a0a0a0] hover:text-white mb-6 group flex items-center gap-2">
                    <i class="fas fa-arrow-left group-hover:-translate-x-1 transition-transform"></i> Back
                </button>
                <div id="profile-content" class="bg-[#121212] rounded-3xl p-8 border border-[#2a2a2a]"></div>
            </div>
        </div>

        <!-- Provider Payment Requests Page -->
        <div id="provider-payment-requests-page" class="page hidden">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h2 class="text-3xl font-display font-bold text-white">Payment Requests</h2>
                    <p class="text-[#e0e0e0] mt-1">Manage your payment requests</p>
                </div>
                <button onclick="window.goBackFromProviderPayments()" class="bg-[#232f3e] hover:bg-[#37475a] text-white px-6 py-3 rounded-xl font-semibold transition-all">
                    <i class="fas fa-arrow-left mr-2"></i> Back
                </button>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div class="bg-[#121212] rounded-2xl p-6 border border-[#2a2a2a]">
                    <h3 class="text-xl font-bold text-white mb-4">Pending Requests</h3>
                    <div id="provider-pending-requests" class="space-y-3 max-h-96 overflow-y-auto custom-scrollbar pr-2"></div>
                </div>
                <div class="bg-[#121212] rounded-2xl p-6 border border-[#2a2a2a]">
                    <h3 class="text-xl font-bold text-white mb-4">Completed Requests</h3>
                    <div id="provider-completed-requests" class="space-y-3 max-h-96 overflow-y-auto custom-scrollbar pr-2"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    
    <!-- Create Service Modal -->
    <div id="create-service-modal" class="hidden fixed inset-0 bg-black/95 backdrop-blur-sm flex items-center justify-center z-50 p-5">
        <div class="bg-[#121212] rounded-3xl max-w-2xl w-full border border-[#2a2a2a]">
            <div class="p-8 border-b border-[#2a2a2a]">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-display font-bold text-white">Create New Service</h3>
                    <button onclick="window.hideModal('create-service-modal')" class="text-4xl text-[#a0a0a0] hover:text-white transition-colors">&times;</button>
                </div>
            </div>
            <div class="modal-scroll p-8">
                <div id="create-service-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6">
                    <span></span>
                </div>
                <form id="create-service-form">
                    <input type="text" id="service-title" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Service Title" required>
                    <select id="service-category" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 mb-4 text-white focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" required>
                        <option value="">Select Category</option>
                        <option value="Home Services">Home Services</option>
                        <option value="Electrical">Electrical</option>
                        <option value="Plumbing">Plumbing</option>
                        <option value="Cleaning">Cleaning</option>
                        <option value="Tutoring">Tutoring</option>
                        <option value="Delivery">Delivery</option>
                        <option value="Repair">Repair</option>
                        <option value="Other">Other</option>
                    </select>
                    <textarea id="service-description" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all h-32" placeholder="Detailed description..." required></textarea>
                    <div class="relative mb-4">
                        <span class="absolute left-5 top-1/2 -translate-y-1/2 text-[#a0a0a0]">PKR</span>
                        <input type="number" id="service-price" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl pl-16 pr-5 py-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="1500" min="0" step="0.01" required>
                    </div>
                    <div class="flex justify-end gap-4">
                        <button type="button" onclick="window.hideModal('create-service-modal')" class="bg-[#1e1e1e] hover:bg-[#2a2a2a] text-white px-8 py-4 rounded-xl font-semibold transition-all">Cancel</button>
                        <button type="submit" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-8 py-4 rounded-xl font-semibold transition-all hover:scale-105">Create Service</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Service Modal -->
    <div id="edit-service-modal" class="hidden fixed inset-0 bg-black/95 backdrop-blur-sm flex items-center justify-center z-50 p-5">
        <div class="bg-[#121212] rounded-3xl max-w-2xl w-full border border-[#2a2a2a]">
            <div class="p-8 border-b border-[#2a2a2a]">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-display font-bold text-white">Edit Service</h3>
                    <button onclick="window.hideModal('edit-service-modal')" class="text-4xl text-[#a0a0a0] hover:text-white transition-colors">&times;</button>
                </div>
            </div>
            <div class="modal-scroll p-8">
                <div id="edit-service-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6">
                    <span></span>
                </div>
                <form id="edit-service-form">
                    <input type="hidden" id="edit-service-id">
                    <input type="text" id="edit-service-title" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Service Title" required>
                    <select id="edit-service-category" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 mb-4 text-white focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" required>
                        <option value="">Select Category</option>
                        <option value="Home Services">Home Services</option>
                        <option value="Electrical">Electrical</option>
                        <option value="Plumbing">Plumbing</option>
                        <option value="Cleaning">Cleaning</option>
                        <option value="Tutoring">Tutoring</option>
                        <option value="Delivery">Delivery</option>
                        <option value="Repair">Repair</option>
                        <option value="Other">Other</option>
                    </select>
                    <textarea id="edit-service-description" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 mb-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all h-32" placeholder="Detailed description..." required></textarea>
                    <div class="relative mb-4">
                        <span class="absolute left-5 top-1/2 -translate-y-1/2 text-[#a0a0a0]">PKR</span>
                        <input type="number" id="edit-service-price" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl pl-16 pr-5 py-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="1500" min="0" step="0.01" required>
                    </div>
                    <div class="flex justify-end gap-4">
                        <button type="button" onclick="window.hideModal('edit-service-modal')" class="bg-[#1e1e1e] hover:bg-[#2a2a2a] text-white px-8 py-4 rounded-xl font-semibold transition-all">Cancel</button>
                        <button type="submit" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-8 py-4 rounded-xl font-semibold transition-all hover:scale-105">Update Service</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Delete Service Modal -->
    <div id="delete-service-modal" class="hidden fixed inset-0 bg-black/95 backdrop-blur-sm flex items-center justify-center z-50 p-5">
        <div class="bg-[#121212] rounded-3xl max-w-md w-full p-8 border border-[#2a2a2a]">
            <div class="text-center mb-6">
                <i class="fas fa-exclamation-triangle text-5xl text-red-500 mb-4"></i>
                <h3 class="text-2xl font-display font-bold text-white">Delete Service</h3>
                <p class="text-[#e0e0e0] mt-2">Are you sure? This cannot be undone.</p>
            </div>
            <input type="hidden" id="delete-service-id">
            <div class="flex justify-center gap-4">
                <button onclick="window.hideModal('delete-service-modal')" class="bg-[#1e1e1e] hover:bg-[#2a2a2a] text-white px-8 py-4 rounded-xl font-semibold transition-all">Cancel</button>
                <button id="confirm-delete-service" class="bg-red-900/50 hover:bg-red-900/70 text-white px-8 py-4 rounded-xl font-semibold transition-all">Delete</button>
            </div>
        </div>
    </div>

    <!-- Book Service Modal -->
    <div id="book-service-modal" class="hidden fixed inset-0 bg-black/95 backdrop-blur-sm flex items-center justify-center z-50 p-5">
        <div class="bg-[#121212] rounded-3xl max-w-md w-full border border-[#2a2a2a]">
            <div class="p-8 border-b border-[#2a2a2a]">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-display font-bold text-white">Book Service</h3>
                    <button onclick="window.hideModal('book-service-modal')" class="text-4xl text-[#a0a0a0] hover:text-white transition-colors">&times;</button>
                </div>
            </div>
            <div class="modal-scroll p-8">
                <div id="book-service-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6">
                    <span></span>
                </div>
                <form id="book-service-form">
                    <input type="hidden" id="book-service-id">
                    <div class="mb-5 p-5 bg-[#1e1e1e] rounded-xl border border-[#2a2a2a]">
                        <div id="book-service-title" class="text-white font-bold text-lg"></div>
                        <div id="book-service-provider" class="text-[#e0e0e0] text-sm mt-1"></div>
                        <div id="book-service-price" class="text-[#ff9900] font-bold text-xl mt-2"></div>
                    </div>
                    <input type="datetime-local" id="book-time" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 mb-4 text-white focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" required>
                    <textarea id="book-notes" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 mb-6 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all h-24" placeholder="Special instructions (optional)"></textarea>
                    <div class="flex justify-end gap-4">
                        <button type="button" onclick="window.hideModal('book-service-modal')" class="bg-[#1e1e1e] hover:bg-[#2a2a2a] text-white px-6 py-3 rounded-xl font-semibold transition-all">Cancel</button>
                        <button type="submit" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-8 py-3 rounded-xl font-semibold transition-all hover:scale-105">Confirm Booking</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Quick Request Modal -->
    <div id="quick-request-modal" class="hidden fixed inset-0 bg-black/95 backdrop-blur-sm flex items-center justify-center z-50 p-5">
        <div class="bg-[#121212] rounded-3xl max-w-md w-full border border-[#2a2a2a]">
            <div class="p-8 border-b border-[#2a2a2a]">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-display font-bold text-white">Post Quick Request</h3>
                    <button onclick="window.hideModal('quick-request-modal')" class="text-4xl text-[#a0a0a0] hover:text-white transition-colors">&times;</button>
                </div>
            </div>
            <div class="modal-scroll p-8">
                <div class="bg-[#1e1e1e] p-4 rounded-xl mb-6 border border-[#2a2a2a]">
                    <div class="flex items-center gap-2 text-[#e0e0e0] text-sm">
                        <i class="fas fa-info-circle text-[#ff9900]"></i>
                        <span>Your request will be sent to all nearby providers in this category</span>
                    </div>
                </div>
                <div id="quick-request-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6">
                    <span></span>
                </div>
                <form id="quick-request-form">
                    <div class="mb-4">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Service Category</label>
                        <select id="request-category" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 text-white focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" required>
                            <option value="">Select Category</option>
                            <option value="Home Services">Home Services</option>
                            <option value="Electrical">Electrical</option>
                            <option value="Plumbing">Plumbing</option>
                            <option value="Cleaning">Cleaning</option>
                            <option value="Tutoring">Tutoring</option>
                            <option value="Delivery">Delivery</option>
                            <option value="Repair">Repair</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="mb-4">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Your Offer Price (PKR)</label>
                        <input type="number" id="request-price" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Enter your price" min="1" step="1" required>
                    </div>
                    
                    <div class="mb-4">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Service Description</label>
                        <textarea id="request-description" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all h-24" placeholder="Describe what you need..." required></textarea>
                    </div>
                    
                    <div class="mb-6">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Your Location</label>
                        <div class="bg-[#1e1e1e] p-3 rounded-xl border border-[#2a2a2a]">
                            <div class="flex items-center gap-2 text-[#e0e0e0] text-sm mb-2">
                                <i class="fas fa-map-marker-alt text-[#ff9900]"></i>
                                <span id="request-location-display" class="truncate flex-1">Using your saved location</span>
                            </div>
                            <button type="button" onclick="window.updateRequestLocation()" class="text-[#ff9900] hover:text-[#e47911] text-sm">
                                <i class="fas fa-sync-alt mr-1"></i> Update Location
                            </button>
                        </div>
                        <input type="hidden" id="request-lat">
                        <input type="hidden" id="request-lng">
                    </div>
                    
                    <div class="flex justify-end gap-4">
                        <button type="button" onclick="window.hideModal('quick-request-modal')" class="bg-[#1e1e1e] hover:bg-[#2a2a2a] text-white px-6 py-3 rounded-xl font-semibold transition-all">Cancel</button>
                        <button type="submit" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-8 py-3 rounded-xl font-semibold transition-all hover:scale-105">
                            <i class="fas fa-paper-plane mr-2"></i>
                            Post Request
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Make Offer Modal -->
    <div id="make-offer-modal" class="hidden fixed inset-0 bg-black/95 backdrop-blur-sm flex items-center justify-center z-50 p-5">
        <div class="bg-[#121212] rounded-3xl max-w-md w-full border border-[#2a2a2a]">
            <div class="p-8 border-b border-[#2a2a2a]">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-display font-bold text-white">Make an Offer</h3>
                    <button onclick="window.hideModal('make-offer-modal')" class="text-4xl text-[#a0a0a0] hover:text-white transition-colors">&times;</button>
                </div>
            </div>
            <div class="modal-scroll p-8">
                <div id="make-offer-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6">
                    <span></span>
                </div>
                <form id="make-offer-form">
                    <input type="hidden" id="offer-request-id">
                    <input type="hidden" id="offer-seeker-id">
                    
                    <div class="mb-5 p-5 bg-[#1e1e1e] rounded-xl border border-[#2a2a2a]">
                        <div id="offer-request-details" class="text-white"></div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Your Offer Price (PKR)</label>
                        <input type="number" id="offer-price" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Enter your price" min="1" step="1" required>
                    </div>
                    
                    <div class="mb-6">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Message to Customer</label>
                        <textarea id="offer-message" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all h-24" placeholder="Introduce yourself and your offer..."></textarea>
                    </div>
                    
                    <div class="flex justify-end gap-4">
                        <button type="button" onclick="window.hideModal('make-offer-modal')" class="bg-[#1e1e1e] hover:bg-[#2a2a2a] text-white px-6 py-3 rounded-xl font-semibold transition-all">Cancel</button>
                        <button type="submit" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-8 py-3 rounded-xl font-semibold transition-all hover:scale-105">
                            <i class="fas fa-hand-holding-usd mr-2"></i>
                            Submit Offer
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Cancel Order Modal -->
    <div id="cancel-order-modal" class="hidden fixed inset-0 bg-black/95 backdrop-blur-sm flex items-center justify-center z-50 p-5">
        <div class="bg-[#121212] rounded-3xl max-w-md w-full border border-[#2a2a2a]">
            <div class="p-8 border-b border-[#2a2a2a]">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-display font-bold text-white">Cancel Order</h3>
                    <button onclick="window.hideModal('cancel-order-modal')" class="text-4xl text-[#a0a0a0] hover:text-white transition-colors">&times;</button>
                </div>
            </div>
            <div class="modal-scroll p-8">
                <div class="text-center mb-4">
                    <i class="fas fa-exclamation-triangle text-5xl text-yellow-500 mb-4"></i>
                    <p class="text-[#e0e0e0]">Please tell us why you're cancelling this order</p>
                </div>
                <div id="cancel-order-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6">
                    <span></span>
                </div>
                <form id="cancel-order-form">
                    <input type="hidden" id="cancel-booking-id">
                    <input type="hidden" id="cancel-booking-role">
                    
                    <div class="mb-4">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Cancellation Reason</label>
                        <select id="cancel-reason" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 mb-3 text-white focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" required>
                            <option value="">Select a reason</option>
                            <option value="Changed my mind">Changed my mind</option>
                            <option value="Found another provider">Found another provider</option>
                            <option value="Service no longer needed">Service no longer needed</option>
                            <option value="Provider unresponsive">Provider unresponsive</option>
                            <option value="Price too high">Price too high</option>
                            <option value="Schedule conflict">Schedule conflict</option>
                            <option value="Customer unresponsive">Customer unresponsive</option>
                            <option value="Not available">Not available</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="mb-6">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Additional Details (Optional)</label>
                        <textarea id="cancel-details" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all h-24" placeholder="Tell us more..."></textarea>
                    </div>
                    
                    <div class="flex justify-end gap-4">
                        <button type="button" onclick="window.hideModal('cancel-order-modal')" class="bg-[#1e1e1e] hover:bg-[#2a2a2a] text-white px-6 py-3 rounded-xl font-semibold transition-all">Go Back</button>
                        <button type="submit" class="bg-red-900/50 hover:bg-red-900/70 text-white px-8 py-3 rounded-xl font-semibold transition-all">
                            <i class="fas fa-times-circle mr-2"></i>
                            Confirm Cancellation
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Rating Modal -->
    <div id="rating-modal" class="hidden fixed inset-0 bg-black/95 backdrop-blur-sm flex items-center justify-center z-50 p-5">
        <div class="bg-[#121212] rounded-3xl max-w-md w-full border border-[#2a2a2a]">
            <div class="p-8 border-b border-[#2a2a2a]">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-display font-bold text-white" id="rating-modal-title">Rate Your Experience</h3>
                    <button onclick="window.hideModal('rating-modal')" class="text-4xl text-[#a0a0a0] hover:text-white transition-colors">&times;</button>
                </div>
            </div>
            <div class="modal-scroll p-8">
                <div class="text-center mb-4">
                    <div class="w-20 h-20 rounded-full bg-[#ff9900]/20 flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-star text-[#ff9900] text-4xl"></i>
                    </div>
                    <p class="text-[#e0e0e0]" id="rating-modal-subtitle">How was your experience?</p>
                </div>
                <div id="rating-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6">
                    <span></span>
                </div>
                <form id="rating-form">
                    <input type="hidden" id="rating-booking-id">
                    <input type="hidden" id="rating-target-id">
                    <input type="hidden" id="rating-target-role">
                    <input type="hidden" id="rating-rater-role">
                    
                    <div class="mb-6 text-center">
                        <div class="text-6xl text-yellow-400 mb-4 flex justify-center gap-2" id="rating-stars">
                            <i class="far fa-star cursor-pointer hover:text-yellow-400 text-4xl" data-rating="1"></i>
                            <i class="far fa-star cursor-pointer hover:text-yellow-400 text-4xl" data-rating="2"></i>
                            <i class="far fa-star cursor-pointer hover:text-yellow-400 text-4xl" data-rating="3"></i>
                            <i class="far fa-star cursor-pointer hover:text-yellow-400 text-4xl" data-rating="4"></i>
                            <i class="far fa-star cursor-pointer hover:text-yellow-400 text-4xl" data-rating="5"></i>
                        </div>
                        <input type="hidden" id="rating-value" value="0">
                        <p class="text-[#e0e0e0] text-sm">Click stars to rate</p>
                    </div>
                    
                    <div class="mb-6">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Your Review</label>
                        <textarea id="rating-comment" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all h-24" placeholder="Share your experience..."></textarea>
                    </div>
                    
                    <div class="flex justify-end gap-4">
                        <button type="button" onclick="window.hideModal('rating-modal')" class="bg-[#1e1e1e] hover:bg-[#2a2a2a] text-white px-6 py-3 rounded-xl font-semibold transition-all">Skip</button>
                        <button type="submit" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-8 py-3 rounded-xl font-semibold transition-all hover:scale-105">
                            <i class="fas fa-paper-plane mr-2"></i>
                            Submit Rating
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Request Payment Modal -->
    <div id="request-payment-modal" class="hidden fixed inset-0 bg-black/95 backdrop-blur-sm flex items-center justify-center z-50 p-5">
        <div class="bg-[#121212] rounded-3xl max-w-md w-full border border-[#2a2a2a]">
            <div class="p-8 border-b border-[#2a2a2a]">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-display font-bold text-white">Request Payment</h3>
                    <button onclick="window.hideModal('request-payment-modal')" class="text-4xl text-[#a0a0a0] hover:text-white transition-colors">&times;</button>
                </div>
            </div>
            <div class="modal-scroll p-8">
                <div class="bg-[#ff9900]/10 p-4 rounded-xl mb-6 border border-[#ff9900]/30">
                    <div class="flex items-center gap-3">
                        <span class="relative flex h-3 w-3">
                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#ff9900] opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-3 w-3 bg-[#ff9900]"></span>
                        </span>
                        <span class="text-[#ff9900] font-semibold text-sm">Instant notification will be sent</span>
                    </div>
                </div>
                <div id="request-payment-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6">
                    <span></span>
                </div>
                <form id="request-payment-form">
                    <input type="hidden" id="payment-booking-id">
                    <div class="mb-5 p-5 bg-[#1e1e1e] rounded-xl border border-[#2a2a2a]">
                        <div id="payment-service-title" class="text-white font-bold text-lg"></div>
                        <div id="payment-customer-name" class="text-[#e0e0e0] text-sm mt-1"></div>
                        <div id="payment-amount" class="text-[#ff9900] font-bold text-xl mt-2">PKR 0</div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Payment Method</label>
                        <select id="payment-method" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 text-white focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" required>
                            <option value="">Select Payment Method</option>
                            <option value="JazzCash">JazzCash</option>
                            <option value="EasyPaisa">EasyPaisa</option>
                            <option value="Bank Transfer">Bank Transfer</option>
                            <option value="Cash">Cash</option>
                        </select>
                    </div>
                    
                    <div class="mb-4">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Amount (PKR)</label>
                        <input type="number" id="payment-amount-received" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Enter amount" min="1" step="1" required>
                    </div>
                    
                    <div class="mb-6">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Transaction ID</label>
                        <input type="text" id="payment-transaction-id" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="e.g., TID123456" required>
                    </div>
                    
                    <div class="flex justify-end gap-4">
                        <button type="button" onclick="window.hideModal('request-payment-modal')" class="bg-[#1e1e1e] hover:bg-[#2a2a2a] text-white px-6 py-3 rounded-xl font-semibold transition-all">Cancel</button>
                        <button type="submit" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-8 py-3 rounded-xl font-semibold transition-all hover:scale-105 flex items-center gap-2">
                            <i class="fas fa-bolt"></i>
                            Send Instant Request
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Process Payment Modal -->
    <div id="process-payment-modal" class="hidden fixed inset-0 bg-black/95 backdrop-blur-sm flex items-center justify-center z-50 p-5">
        <div class="bg-[#121212] rounded-3xl max-w-md w-full border border-[#2a2a2a]">
            <div class="p-8 border-b border-[#2a2a2a]">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-display font-bold text-white">Complete Payment</h3>
                    <button onclick="window.hideModal('process-payment-modal')" class="text-4xl text-[#a0a0a0] hover:text-white transition-colors">&times;</button>
                </div>
            </div>
            <div class="modal-scroll p-8">
                <div id="process-payment-error" class="hidden bg-red-900/50 border border-red-800 text-red-200 px-4 py-3 rounded-xl mb-6">
                    <span></span>
                </div>
                <form id="process-payment-form">
                    <input type="hidden" id="process-payment-id">
                    <input type="hidden" id="process-booking-id">
                    
                    <div class="mb-5 p-5 bg-[#1e1e1e] rounded-xl border border-[#2a2a2a]">
                        <div id="process-service-title" class="text-white font-bold text-lg"></div>
                        <div id="process-provider-name" class="text-[#e0e0e0] text-sm mt-1"></div>
                        <div id="process-payment-amount" class="text-[#ff9900] font-bold text-xl mt-2">PKR 0</div>
                    </div>
                    
                    <div class="mb-6 p-5 bg-[#1e1e1e] rounded-xl border border-[#2a2a2a]">
                        <h4 class="text-white font-bold mb-3 flex items-center gap-2">
                            <i class="fas fa-credit-card text-[#ff9900]"></i> Provider Payment Details
                        </h4>
                        <div id="provider-payment-info" class="space-y-2">
                            <div class="flex justify-between">
                                <span class="text-[#a0a0a0]">Payment Method:</span>
                                <span id="provider-payment-method-display" class="text-white font-medium">Loading...</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-[#a0a0a0]">Account Details:</span>
                                <span id="provider-payment-detail-display" class="text-white font-medium">Loading...</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <label class="text-[#e0e0e0] text-sm mb-2 block">Your Transaction ID (for confirmation)</label>
                        <input type="text" id="process-transaction-id" class="w-full bg-[#1e1e1e] border border-[#2a2a2a] rounded-xl px-5 py-4 text-white placeholder-[#a0a0a0] focus:border-[#ff9900] focus:outline-none focus:ring-2 focus:ring-[#ff9900]/20 transition-all" placeholder="Enter transaction ID" required>
                    </div>
                    
                    <div class="flex justify-end gap-4">
                        <button type="button" onclick="window.hideModal('process-payment-modal')" class="bg-[#1e1e1e] hover:bg-[#2a2a2a] text-white px-6 py-3 rounded-xl font-semibold transition-all">Cancel</button>
                        <button type="submit" class="bg-[#ff9900] hover:bg-[#e47911] text-white px-8 py-3 rounded-xl font-semibold transition-all hover:scale-105">
                            <i class="fas fa-check-circle mr-2"></i>
                            Confirm Payment
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Cancel Payment Modal -->
    <div id="cancel-payment-modal" class="hidden fixed inset-0 bg-black/95 backdrop-blur-sm flex items-center justify-center z-50 p-5">
        <div class="bg-[#121212] rounded-3xl max-w-md w-full p-8 border border-[#2a2a2a]">
            <div class="text-center mb-6">
                <i class="fas fa-exclamation-triangle text-5xl text-red-500 mb-4"></i>
                <h3 class="text-2xl font-display font-bold text-white">Cancel Payment Request</h3>
                <p class="text-[#e0e0e0] mt-2">Are you sure you want to cancel this payment request?</p>
            </div>
            <input type="hidden" id="cancel-payment-id">
            <div class="flex justify-center gap-4">
                <button onclick="window.hideModal('cancel-payment-modal')" class="bg-[#1e1e1e] hover:bg-[#2a2a2a] text-white px-8 py-4 rounded-xl font-semibold transition-all">No, Keep It</button>
                <button id="confirm-cancel-payment" class="bg-red-900/50 hover:bg-red-900/70 text-white px-8 py-4 rounded-xl font-semibold transition-all">Yes, Cancel</button>
            </div>
        </div>
    </div>

    <!-- Provider QR Modal -->
    <div id="provider-qr-modal" class="hidden fixed inset-0 bg-black/95 backdrop-blur-sm flex items-center justify-center z-50 p-5">
        <div class="bg-[#121212] rounded-3xl max-w-md w-full p-8 border border-[#2a2a2a]">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-display font-bold text-white">Your Payment QR Code</h3>
                <button onclick="window.hideModal('provider-qr-modal')" class="text-4xl text-[#a0a0a0] hover:text-white transition-colors">&times;</button>
            </div>
            <div class="text-center mb-6">
                <div id="provider-qr-code" class="bg-white p-4 rounded-xl inline-block mb-4"></div>
                <p class="text-[#ff9900] font-semibold" id="provider-qr-name"></p>
                <p class="text-[#e0e0e0] text-sm mt-2">Customers scan to pay instantly</p>
            </div>
            <div class="bg-[#1e1e1e] rounded-xl p-4 mb-4">
                <div class="flex justify-between mb-2">
                    <span class="text-[#a0a0a0]">Payment Method:</span>
                    <span id="provider-payment-method-display-qr" class="text-white">Not set</span>
                </div>
                <div class="flex justify-between">
                    <span class="text-[#a0a0a0]">Account Details:</span>
                    <span id="provider-payment-detail-display-qr" class="text-white">Not set</span>
                </div>
            </div>
            <button onclick="window.hideModal('provider-qr-modal')" class="w-full bg-[#232f3e] hover:bg-[#37475a] text-white px-6 py-3 rounded-xl font-semibold transition-all">
                Close
            </button>
        </div>
    </div>

    <!-- Supabase Script -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="main.js"></script>
</body>
</html>
